(this["webpackJsonpfilms-list-api-react"]=this["webpackJsonpfilms-list-api-react"]||[]).push([[0],{23:function(e,n,t){"use strict";t.r(n);var r,c,i,a,o,s,d,l,b,u,j,p,f,m,h,O,x,g=t(1),w=t.n(g),v=t(11),k=t.n(v),F=t(5),y=t.n(F),A=t(7),C=t(4),D=t(2),S=t(3),B=t(0),P=S.b.button(r||(r=Object(D.a)(["\n  width: 150px;\n  background: brown;\n  color: white;\n  border: none;\n  border-radius: 1em;\n  margin-left: 1em;\n  margin-top: 1em;\n  padding: 1em;\n  cursor: pointer;\n  outline: none;\n  transition: background-color 0.5s;\n\n  &:hover {\n    background: #7c1919;\n  }\n  &:focus {\n    background: #7c1919;\n  }\n"]))),R=function(e){var n=e.children,t=e.className,r=e.type,c=e.onClick;return Object(B.jsx)(P,{className:t,type:r||"button",onClick:c,children:n})},z=S.b.form(c||(c=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),E=S.b.input(i||(i=Object(D.a)(["\n  outline: none;\n  border: 1px solid #ff6347a4;\n  border-radius: 0.5em;\n  margin: 5px;\n  padding: 5px;\n  width: 20em;\n  cursor: pointer;\n\n  &:focus {\n    background: #ff63474c;\n  }\n"]))),I=S.b.textarea(a||(a=Object(D.a)(["\n  outline: none;\n  border: 1px solid #ff6347a4;\n  border-radius: 0.5em;\n  padding: 5px;\n  cursor: pointer;\n\n  &:focus {\n    background: #ff63474c;\n  }\n"]))),J=S.b.footer(o||(o=Object(D.a)(["\n  margin-top: 1em;\n"]))),N=S.b.p(s||(s=Object(D.a)(["\n  color: red;\n"]))),_=function(e){var n=e.hideForm,t=e.onAddFilm,r=e.isAdded,c=Object(g.useState)(!1),i=Object(C.a)(c,2),a=i[0],o=i[1],s=Object(g.useRef)(""),d=Object(g.useRef)(""),l=Object(g.useRef)(""),b=Object(g.useRef)(""),u=Object(g.useRef)(""),j=function(e){if(e.preventDefault(),o(!1),0!==s.current.value.length&&0!==d.current.value.length&&0!==l.current.value.length&&0!==b.current.value.length&&0!==u.current.value.length){var n={title:s.current.value,desc:d.current.value,director:l.current.value,producer:b.current.value,date:u.current.value,place:"From Data Base"};t(n)}else o(!0)};return Object(B.jsxs)(g.Fragment,{children:[Object(B.jsxs)(z,{children:[Object(B.jsx)("label",{htmlFor:"in1",children:"title"}),Object(B.jsx)(E,{type:"text",name:"",id:"in1",ref:s}),Object(B.jsx)("label",{htmlFor:"in2",children:"Description"}),Object(B.jsx)(I,{name:"",id:"in2",cols:"30",rows:"5",ref:d}),Object(B.jsx)("label",{htmlFor:"in3",children:"Director"}),Object(B.jsx)(E,{type:"text",name:"",id:"in3",ref:l}),Object(B.jsx)("label",{htmlFor:"in4",children:"Producer"}),Object(B.jsx)(E,{type:"text",name:"",id:"in4",ref:b}),Object(B.jsx)("label",{htmlFor:"in5",children:"Date"}),Object(B.jsx)(E,{type:"text",name:"",id:"in5",ref:u})]}),Object(B.jsxs)(J,{children:[Object(B.jsx)(R,{onClick:n,children:"Back"}),!r&&Object(B.jsx)(R,{onClick:j,children:"Add new film"}),r&&Object(B.jsx)(R,{onClick:j,children:"Adding new film..."}),a&&Object(B.jsx)(N,{children:"input/inputs are blank"})]})]})},q=S.b.div(d||(d=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  align-items: center;\n  background: white;\n  border-radius: 1em;\n  padding: 1em;\n"]))),H=S.b.section(l||(l=Object(D.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]))),T=S.b.p(b||(b=Object(D.a)(["\n  color: #0000006f;\n  border-bottom: 1px solid #0000006f;\n"]))),L=function(e){var n,t=e.onFetchFilms,r=e.onFetchFilmsDB,c=e.onAddFilmHandler,i=e.isAdded,a=Object(g.useState)(!1),o=Object(C.a)(a,2),s=o[0],d=o[1];return n=s?Object(B.jsx)(_,{hideForm:function(){d(!1)},onAddFilm:function(e){c(e)},isAdded:i}):Object(B.jsxs)(H,{children:[Object(B.jsx)(R,{onClick:t,children:"Fetch films from API"}),Object(B.jsx)(R,{onClick:r,children:"Fetch films from DB"}),Object(B.jsx)(R,{onClick:function(){return d(!0)},children:"Add new film to DB"})]}),Object(B.jsxs)(q,{children:[!s&&Object(B.jsx)(T,{children:"Click for fetch films or add new one"}),n]})},M=S.b.li(u||(u=Object(D.a)(["\n  background: tomato;\n  border-radius: 1em;\n  padding: 2em;\n  margin-top: 2em;\n  width: 80%;\n"]))),W=S.b.h2(j||(j=Object(D.a)(["\n  color: white;\n  font-weight: bold;\n  font-size: 40px;\n"]))),G=S.b.footer(p||(p=Object(D.a)(["\n  background: white;\n  border-radius: 0.5em;\n  padding: 0.5em;\n  font-size: 12px;\n"]))),K=Object(S.b)(G)(f||(f=Object(D.a)(["\n  text-align: start;\n  font-size: 15px;\n  margin-bottom: 0.2em;\n"]))),Q=function(e){var n=e.title,t=e.desc,r=e.producer,c=e.date,i=e.director,a=e.place;return Object(B.jsxs)(M,{children:[Object(B.jsx)("p",{children:a}),Object(B.jsx)(W,{children:n}),Object(B.jsx)(K,{children:t}),Object(B.jsxs)(G,{children:[Object(B.jsx)("p",{children:"Director: ".concat(i)}),Object(B.jsx)("p",{children:"Producers: ".concat(r)}),Object(B.jsx)("p",{children:"Date: ".concat(c)})]})]})},U=S.b.ul(m||(m=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 1em;\n  background: white;\n  border-radius: 1em;\n  width: 80%;\n  padding: 1em;\n  list-style: none;\n"]))),V=function(e){var n=e.listOfFilms;return Object(B.jsx)(U,{children:n.map((function(e){return Object(B.jsx)(Q,{title:e.title,desc:e.desc,director:e.director,producer:e.producer,date:e.date,place:e.place},e.id)}))})},X=Object(S.a)(h||(h=Object(D.a)(['\n* {\n  font-family: "Open Sans", sans-serif;\n}\nbody {\n    text-align: center;\n    margin: 0;\n    padding: 0;\n    background: #41403f;\n  }\n']))),Y=S.b.section(O||(O=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 1em;\n"]))),Z=S.b.p(x||(x=Object(D.a)(["\n  background: white;\n  padding: 1em;\n  color: tomato;\n  font-size: 20px;\n  border-radius: 0.5em;\n"])));var $=function(){console.log("component running");var e=Object(g.useState)([]),n=Object(C.a)(e,2),t=n[0],r=n[1],c=Object(g.useState)(!1),i=Object(C.a)(c,2),a=i[0],o=i[1],s=Object(g.useState)(null),d=Object(C.a)(s,2),l=d[0],b=d[1],u=Object(g.useState)(!1),j=Object(C.a)(u,2),p=j[0],f=j[1],m=Object(g.useCallback)(Object(A.a)(y.a.mark((function e(){var n,t,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),b(null),r([]),e.prev=3,e.next=6,fetch("https://swapi.dev/api/films/");case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("something went wrong !!!");case 9:return e.next=11,n.json();case 11:t=e.sent,c=t.results.map((function(e){return{id:e.episode_id,title:e.title,desc:e.opening_crawl,director:e.director,producer:e.producer,date:e.release_date,place:"From Star Wars API"}})),r(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),b(e.t0.message);case 19:o(!1);case 20:case"end":return e.stop()}}),e,null,[[3,16]])}))),[]),h=function(){var e=Object(A.a)(y.a.mark((function e(){var n,t,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),b(null),r([]),e.prev=3,e.next=6,fetch("https://react-httprequest-d5649-default-rtdb.europe-west1.firebasedatabase.app/films.json");case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("something went wrong !!!");case 9:return e.next=11,n.json();case 11:for(i in t=e.sent,console.log(t),c=[],t)c.push({id:i,title:t[i].title,desc:t[i].desc,director:t[i].director,producer:t[i].producer,date:t[i].date,place:t[i].place});r(c),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),b(e.t0.message);case 21:o(!1);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){m()}),[m]);var O,x=function(){var e=Object(A.a)(y.a.mark((function e(n){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch("https://react-httprequest-d5649-default-rtdb.europe-west1.firebasedatabase.app/films.json/",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,console.log(r),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return O=t.length>0&&!a?Object(B.jsx)(V,{listOfFilms:t}):l?Object(B.jsx)(Z,{children:l}):a?Object(B.jsx)(Z,{children:"Loading..."}):Object(B.jsx)(Z,{children:"0 films found"}),Object(B.jsxs)(g.Fragment,{children:[Object(B.jsx)(X,{}),Object(B.jsx)(Y,{children:Object(B.jsx)(L,{onFetchFilms:m,onFetchFilmsDB:h,onAddFilmHandler:x,isAdded:p})}),Object(B.jsx)(Y,{children:O})]})};k.a.render(Object(B.jsx)(w.a.StrictMode,{children:Object(B.jsx)($,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.3d475c65.chunk.js.map